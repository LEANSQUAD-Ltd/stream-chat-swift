<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/stream-chat-swift/blog/rss.xml" title="StreamChat Swift SDK Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/stream-chat-swift/blog/atom.xml" title="StreamChat Swift SDK Docs Blog Atom Feed"><title data-react-helmet="true">StreamChatUI Cheat Sheet | StreamChat Swift SDK Docs</title><meta data-react-helmet="true" property="og:url" content="https://getstream.github.io/stream-chat-swift//stream-chat-swift/ui-cheat-sheet"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="StreamChatUI Cheat Sheet | StreamChat Swift SDK Docs"><meta data-react-helmet="true" name="description" content="This cheat sheet provides additional information on how to use StreamChatUI SDK. It offers rich code snippets, detailed explanations, and commentary on the provided solutions."><meta data-react-helmet="true" property="og:description" content="This cheat sheet provides additional information on how to use StreamChatUI SDK. It offers rich code snippets, detailed explanations, and commentary on the provided solutions."><link data-react-helmet="true" rel="shortcut icon" href="https://getstream.imgix.net/images/favicons/favicon-96x96.png"><link data-react-helmet="true" rel="canonical" href="https://getstream.github.io/stream-chat-swift//stream-chat-swift/ui-cheat-sheet"><link data-react-helmet="true" rel="alternate" href="https://getstream.github.io/stream-chat-swift//stream-chat-swift/ui-cheat-sheet" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://getstream.github.io/stream-chat-swift//stream-chat-swift/ui-cheat-sheet" hreflang="x-default"><link rel="stylesheet" href="/stream-chat-swift/assets/css/styles.284bd3b0.css">
<link rel="preload" href="/stream-chat-swift/assets/js/styles.725bd164.js" as="script">
<link rel="preload" href="/stream-chat-swift/assets/js/runtime~main.0ada098c.js" as="script">
<link rel="preload" href="/stream-chat-swift/assets/js/main.b0a9bf59.js" as="script">
<link rel="preload" href="/stream-chat-swift/assets/js/1.fdcd1e01.js" as="script">
<link rel="preload" href="/stream-chat-swift/assets/js/2.c4a5c1e3.js" as="script">
<link rel="preload" href="/stream-chat-swift/assets/js/3.cf062860.js" as="script">
<link rel="preload" href="/stream-chat-swift/assets/js/1be78505.5242f7cc.js" as="script">
<link rel="preload" href="/stream-chat-swift/assets/js/56.f7fc442b.js" as="script">
<link rel="preload" href="/stream-chat-swift/assets/js/935f2afb.ddf29bbf.js" as="script">
<link rel="preload" href="/stream-chat-swift/assets/js/17896441.d1c47389.js" as="script">
<link rel="preload" href="/stream-chat-swift/assets/js/9cd848f5.a95d0e6c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/stream-chat-swift/"><img src="/stream-chat-swift/img/logo.svg" alt="StreamChat Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/stream-chat-swift/img/logo.svg" alt="StreamChat Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">StreamChat Swift SDK Docs</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/GetStream/stream-chat-swift" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/stream-chat-swift/"><img src="/stream-chat-swift/img/logo.svg" alt="StreamChat Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/stream-chat-swift/img/logo.svg" alt="StreamChat Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">StreamChat Swift SDK Docs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/GetStream/stream-chat-swift" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">StreamChatUI Cheat Sheet</h1></header><div class="markdown"><p>This cheat sheet provides additional information on how to use <code>StreamChatUI</code> SDK. It offers rich code snippets, detailed explanations, and commentary on the provided solutions.</p><p>Some features explained here are in beta release only and will be marked with &quot;<strong>üÖ±Ô∏è Beta only</strong>&quot;</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="summary"></a>Summary<a class="hash-link" href="#summary" title="Direct link to heading">#</a></h4><ul><li><a href="#setup">Setup</a><ul><li><a href="#integrating-with-streamchat">Integrating with <code>StreamChat</code></a><ul><li><a href="#displaying-the-list-of-channels">Displaying the list of Channels</a></li><li><a href="#displaying-a-single-chat-channel">Displaying a single chat (Channel)</a></li></ul></li></ul></li><li><a href="#customizing-views">Customizing Views</a><ul><li><a href="#view-lifecycle-methods">View Lifecycle Methods</a></li><li><a href="#changing-main-color">Changing Main Color</a></li><li><a href="#changing-appearance">Changing Appearance</a></li><li><a href="#changing-layout">Changing Layout</a><ul><li><a href="#subclassing-components">Subclassing Components</a><ul><li><a href="#adding-a-new-subview-to-the-ui-component">Adding a new subview to the UI component</a></li><li><a href="#changing-component-subviews-relative-arrangement-or-removing-subview">Changing component subview&#x27;s relative arrangement, or removing subview</a></li></ul></li><li><a href="#injecting-custom-subclass">Injecting Custom Subclass</a></li></ul></li></ul></li></ul><hr><p>Didn&#x27;t find what you were looking for? Open an <a href="https://github.com/GetStream/stream-chat-swift/issues" target="_blank" rel="noopener noreferrer">issue in our repo</a> and suggest a new topic!</p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setup"></a>Setup<a class="hash-link" href="#setup" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="integrating-with-streamchat"></a>Integrating with <code>StreamChat</code><a class="hash-link" href="#integrating-with-streamchat" title="Direct link to heading">#</a></h3><p><code>StreamChat</code> is the backbone powering the <code>StreamChatUI</code>. UI SDK offers flexible components able to display data provided by <code>StreamChat</code>.</p><p>In short, using <code>StreamChatUI</code> can be summarized as: create the UI component, inject the necessary <code>StreamChat</code> controller and use it. Below we will look at examples of displaying a list of chats (channels) and a single chat (channel) in detail.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="displaying-the-list-of-channels"></a>Displaying the list of Channels<a class="hash-link" href="#displaying-the-list-of-channels" title="Direct link to heading">#</a></h4><p>Displaying the list of Channels a user belongs to can be summarized in 5 steps:</p><ul><li>Create the <code>ChatClient</code> instance (outlined <a href="https://github.com/GetStream/stream-chat-swift/wiki/Cheat-Sheet#creating-a-new-instance-of-chat-client" target="_blank" rel="noopener noreferrer">here</a>)</li><li>Set your user to login (outlined <a href="https://github.com/GetStream/stream-chat-swift/wiki/Cheat-Sheet#setting-the-current-user" target="_blank" rel="noopener noreferrer">here</a>)</li><li>Create the <code>ChatChannelListVC</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">let channelList = ChatChannelListVC()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Pass a <code>ChatChannelListController</code> instance to <code>channelList</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">let channelListController = chatClient</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    .channelListController(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        query: ChannelListQuery(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            filter: .containMembers(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                userIds: [chatClient.currentUserId!]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            )</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        )</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    )</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">channelList.controller = channelListController</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Embed the <code>channelList</code> into a <code>UINavigationController</code> and present:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">let navigationController = UINavigationController(rootViewController: channelList)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Your logic for presenting `navigationController`, for example:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">UIView.transition(with: view.window!,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                  duration: 0.5,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                  options: .transitionFlipFromLeft,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                  animations: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                    self.view.window?.rootViewController = navigation</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                  })</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><blockquote><p><strong>- üÖ±Ô∏è Beta only -</strong> Using a <code>UINavigationController</code> is not required but strongly recommended. If you don&#x27;t want to use a Navigation Controller, you&#x27;d need to subclass <code>ChatChannelListRouter</code>, override <code>func openChat</code> and implement your logic for showing the chat. This is explained <a href="#injecting-custom-subclass">here</a>.</p></blockquote><p><code>ChatChannelListController</code> will take care of opening individual channels from this point.</p><p>To reiterate, the process is similar for nearly all UI components <code>StreamChatUI</code> SDK provides: create the component, inject the necessary <code>StreamChat</code> controller, and use it.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="displaying-a-single-chat-channel"></a>Displaying a single chat (Channel)<a class="hash-link" href="#displaying-a-single-chat-channel" title="Direct link to heading">#</a></h4><p>If we want to display a single chat, we can do so as:</p><ul><li>Create the <code>ChatClient</code> instance (outlined <a href="https://github.com/GetStream/stream-chat-swift/wiki/Cheat-Sheet#creating-a-new-instance-of-chat-client" target="_blank" rel="noopener noreferrer">here</a>)</li><li>Set your user to login (outlined <a href="https://github.com/GetStream/stream-chat-swift/wiki/Cheat-Sheet#setting-the-current-user" target="_blank" rel="noopener noreferrer">here</a>)</li><li>Create the <code>ChatChannelVC</code> instance:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">let chatChannelVC = ChatChannelVC()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Pass a <code>ChatChannelController</code> instance to <code>chatChannelVC</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">let channelController = chatClient.channelController(for: .init(type: .messaging, id: &quot;general&quot;))</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">chatChannelVC.channelController = channelController</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><blockquote><p>If the passed Channel does not exist on the backend, it will be created after VC is presented.</p><ul><li>Present <code>chatChannelVC</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Your logic for presenting `chatChannelVC`, for example:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">show(chatChannelVC, sender: self)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="customizing-views"></a>Customizing views<a class="hash-link" href="#customizing-views" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="view-lifecycle-methods"></a>View Lifecycle Methods<a class="hash-link" href="#view-lifecycle-methods" title="Direct link to heading">#</a></h3><p><strong>- üÖ±Ô∏è Beta only -</strong></p><p>To make subclassing and customization simple, almost all view components in <code>StreamChatUI</code> has the following set of lifecycle methods:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">/// Main point of customization for the view functionality. It&#x27;s called zero or one time(s) during the view&#x27;s</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">/// lifetime. Calling super implementation is required.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">func setUp()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">/// Main point of customization for the view appearance. It&#x27;s called zero or one time(s) during the view&#x27;s</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">/// lifetime. The default implementation of this method is empty so calling `super` is usually not needed.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">func setUpAppearance()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">/// Main point of customization for the view layout. It&#x27;s called zero or one time(s) during the view&#x27;s</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">/// lifetime. Calling super is recommended but not required if you provide a complete layout for all subviews.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">func setUpLayout()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">/// Main point of customization for the view appearance. It&#x27;s called every time view&#x27;s content changes.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">/// Calling super is recommended but not required if you update the content of all subviews of the view.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">func updateContent()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="changing-main-color"></a>Changing Main Color<a class="hash-link" href="#changing-main-color" title="Direct link to heading">#</a></h3><p>If suitable, UI elements respect <code>UIView.tintColor</code> as the main (brand) color. The current <code>tintColor</code> depends on the tint color of the view hierarchy the UI element is presented on.</p><p>For example, by changing the tint color of the <code>UIWindow</code> of the app, you can easily modify the brand color of the whole chat UI:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">class SceneDelegate: UIResponder, UIWindowSceneDelegate {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        guard let scene = scene as? UIWindowScene else { return }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        scene.windows.forEach { $0.tintColor = .systemPink }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><table><thead><tr><th>default <code>tintColor</code></th><th><code>tintColor = .systemPink</code></th></tr></thead><tbody><tr><td><img alt="Chat UI with default tint color" src="/stream-chat-swift/assets/images/blue-tint-3f4c8d9f78b4f14f6c45a369c4771841.png"></td><td><img alt="Chat UI with pink tint color" src="/stream-chat-swift/assets/images/pink-tint-8a3738017fafa51e6cd3f70f391b61fe.png"></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="changing-appearance"></a>Changing Appearance<a class="hash-link" href="#changing-appearance" title="Direct link to heading">#</a></h3><p><strong>- üÖ±Ô∏è Beta only -</strong></p><p><code>StreamChatUI</code> offers a simple way of customizing the default appearance of almost every UI element using the <code>DefaultAppearance</code> protocol. Elements conforming to this protocol expose the <code>defaultAppearance</code> property which allows adding custom appearance rules.</p><p>For example, this is the default appearance of the list of channels:</p><p><img alt="Channel list default appearance" src="/stream-chat-swift/assets/images/default-appearance-1-8ab894aec554b249f5f1b4268fcc589a.png"></p><p>We can easily change the appearance of the channel list items using the <code>defaultAppearance</code> API:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">var uiConfig = UIConfig.default</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">uiConfig.channelList.channelListItemView.defaultAppearance.addRule {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    $0.backgroundColor = UIColor.yellow.withAlphaComponent(0.2)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    $0.titleLabel.textColor = .darkGray</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><img alt="Channel list adjusted appearance" src="/stream-chat-swift/assets/images/default-appearance-2-f63c97f0f1bc3f05861f5fa13a57f2b6.png"></p><p>The unread count indicator now seems quite off. We can change its color, too:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">uiConfig.channelList.channelListItemSubviews.unreadCountView.defaultAppearance.addRule {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    $0.backgroundColor = .darkGray</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><img alt="Channel list adjusted appearance" src="/stream-chat-swift/assets/images/default-appearance-3-72a42368ac2dcac3a6c5bd465d69f765.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="changing-layout"></a>Changing Layout<a class="hash-link" href="#changing-layout" title="Direct link to heading">#</a></h3><p><strong>- üÖ±Ô∏è Beta only -</strong></p><p>It is possible to adjust/customize the layout of any UI component in the following ways:</p><ul><li>add a new subview</li><li>remove the existed subview</li><li>change spacing/margins/relative subviews arrangement</li></ul><p>All the customizations can be done in <strong>3</strong> steps:</p><ol><li>Create a subclass of the UI component</li><li>Override <code>setUpLayout</code> and apply custom layout</li><li>Inject created subclass via <code>UIConfig</code></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="subclassing-components"></a>Subclassing Components<a class="hash-link" href="#subclassing-components" title="Direct link to heading">#</a></h4><p>This whole section is <strong>- üÖ±Ô∏è Beta only -</strong></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="adding-a-new-subview-to-the-ui-component"></a>Adding a new subview to the UI component<a class="hash-link" href="#adding-a-new-subview-to-the-ui-component" title="Direct link to heading">#</a></h5><p>This type of customization is especially useful when working with custom extra-data. Whenever custom extra data contains the information that should be shown inside the UI component, it can be subclassed and extended with the new subview.</p><blockquote><p>Read more about <code>ExtraData</code> <a href="https://github.com/GetStream/stream-chat-swift/wiki/Cheat-Sheet#working-with-extra-data" target="_blank" rel="noopener noreferrer">here</a></p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">struct MyExtraData: ExtraDataTypes {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    struct Message: MessageExtraData {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        static let defaultValue = Self(authorWasInGoodMood: true)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        let authorWasInGoodMood: Bool</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// 1. Create custom UI component subclass.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">class MyChatMessageMetadataView: _ChatMessageMetadataView&lt;MyExtraData&gt; {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    // 2. Declare new subview.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    let moodLabel = UILabel()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    // 3. Override `setUpLayout` and add the new subview to the hierarchy.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    override func setUpLayout() {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        // Use base implementation.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        super.setUpLayout()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        // But also extend it with the new subview.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        stack.addArrangedSubview(moodLabel)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    // 4. Override `updateContent` and provide data for the new subview.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    override func updateContent() {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        // Use base implementation.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        super.updateContent()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        // But also provide data for the new subview.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        moodLabel.text = message?.authorWasInGoodMood == true ? &quot;üòÉ&quot; : &quot;üòû&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><table><thead><tr><th>Before</th><th>After</th></tr></thead><tbody><tr><td><img alt="No author mood" src="/stream-chat-swift/assets/images/change-layout-mood-no-9b8be0cfd0a48003966f8d08fd31a941.png"></td><td><img alt="Author mood on" src="/stream-chat-swift/assets/images/change-layout-mood-on-a30c54b1883e34acde2eb3a396758694.png"></td></tr></tbody></table><p>Once the custom subclass is implemented, it should be injected via <code>UIConfig</code> so it is used instead of base UI component.</p><blockquote><p>Refer to <a href="#injecting-custom-subclass">Injecting Custom Subclass</a> chapter below for more information.</p></blockquote><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="changing-component-subviews-relative-arrangement-or-removing-subview"></a>Changing component subview&#x27;s relative arrangement, or removing subview<a class="hash-link" href="#changing-component-subviews-relative-arrangement-or-removing-subview" title="Direct link to heading">#</a></h5><p>Imagine you are not satisfied with some UI component default layout and you&#x27;re looking for how to exclude a particular subview or change relative subviews arrangement.</p><p>Let&#x27;s see how it can be done by the <code>ChatMessageInteractiveAttachmentView</code> example:
| Default layout  | Updated layout |
| ------------- | ------------- |
| <img alt="InteractiveAttachmentView-before" src="/stream-chat-swift/assets/images/change-layout-cow-before-53ad6e563cda287b71c5b0044778319d.png">  | <img alt="InteractiveAttachmentView-after" src="/stream-chat-swift/assets/images/change-layout-cow-after-1e80a44ab3d0a667373f02385c4c4b60.png">  |</p><p>As you see, in the <code>updated layout</code>:</p><ul><li>action buttons are arranged vertically;</li><li>there is no GIF title label.</li></ul><p>The code-snippet that does the job:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// 1. Create custom UI component subclass.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">class InteractiveAttachmentView: ChatMessageInteractiveAttachmentView {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    // 2. Override `setUpLayout` and provide custom subviews arrangement.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    override open func setUpLayout() {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        // 3. Add only `preview` and `actionsStackView`.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        addSubview(preview)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        addSubview(actionsStackView)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        // 4. Make the action buttons stack vertical.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        actionsStackView.axis = .vertical</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        // 5. Set up the necessary constraints.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        NSLayoutConstraint.activate([</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            preview.leadingAnchor.constraint(equalTo: layoutMarginsGuide.leadingAnchor),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            preview.trailingAnchor.constraint(equalTo: layoutMarginsGuide.trailingAnchor),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            preview.topAnchor.constraint(equalTo: layoutMarginsGuide.topAnchor),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            preview.heightAnchor.constraint(equalTo: preview.widthAnchor),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            actionsStackView.topAnchor.constraint(equalTo: preview.bottomAnchor),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            actionsStackView.leadingAnchor.constraint(equalTo: leadingAnchor),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            actionsStackView.trailingAnchor.constraint(equalTo: trailingAnchor),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            actionsStackView.bottomAnchor.constraint(equalTo: bottomAnchor)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        ])</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Once the custom subclass is implemented it should be injected via <code>UIConfig</code> so it is used instead of the base UI component.</p><blockquote><p>Refer to <a href="#injecting-custom-subclass">Injecting Custom Subclass</a> chapter below for more information.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="injecting-custom-subclass"></a>Injecting Custom Subclass<a class="hash-link" href="#injecting-custom-subclass" title="Direct link to heading">#</a></h4><p>You can change UI behavior or add new elements by subclassing  <code>StreamChatUI</code> views and injecting them in <code>UIConfig</code>.</p><p><code>UIConfig.default</code> is used to inject custom UI component types.</p><p>Once the new type is injected it will is used instead of the base UI component.</p><p>In most cases the type injection should be done once and the <code>application(_, didFinishLaunchingWithOptions)</code> is the right place for it:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    // Override point for customization after application launch.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    UIConfig.default</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      .messageList</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      .messageContentSubviews</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      .attachmentSubviews</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      .interactiveAttachmentView = InteractiveAttachmentView.self</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    return true</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For example, this user really loves ducks and has a bad time without them.
<img alt="User sad without duck" src="/stream-chat-swift/assets/images/sad_duck-3551492531fb4c22069c93a6c7b326ea.png"></p><p>Let&#x27;s help him, by showing ü¶Ü near message view if it contains &quot;duck&quot; word.
To achive this we would subclass <code>ChatMessageContentView</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">class DuckBubbleView: ChatMessageContentView {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    lazy var duckView: UILabel = {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        let label = UILabel()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        label.translatesAutoresizingMaskIntoConstraints = false</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        label.text = &quot;ü¶Ü&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        label.font = .systemFont(ofSize: 60)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        return label</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    var incomingMessageConstraint: NSLayoutConstraint?</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    var outgoingMessageConstraint: NSLayoutConstraint?</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    override func setUpLayout() {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        super.setUpLayout()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        addSubview(duckView)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        duckView.centerYAnchor.constraint(equalTo: messageBubbleView.bottomAnchor).isActive = true</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        incomingMessageConstraint = duckView.centerXAnchor.constraint(equalTo: trailingAnchor)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        outgoingMessageConstraint = duckView.centerXAnchor.constraint(equalTo: leadingAnchor)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    override func updateContent() {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        super.updateContent()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        let isOutgoing = message?.isSentByCurrentUser ?? false</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        incomingMessageConstraint?.isActive = !isOutgoing</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        outgoingMessageConstraint?.isActive = isOutgoing</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        let isDuckInIt = message?.text.contains(&quot;duck&quot;) ?? false</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        duckView.isHidden = !isDuckInIt</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now to teach <code>StreamChatUI</code> sdk to use our ü¶Ü view, pass it inside <code>UIConfig</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">UIConfig.default.messageList.messageContentView = DuckBubbleView.self</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><img alt="User now happy with duck" src="/stream-chat-swift/assets/images/happy_duck-f9146ae844c600f59d0dd3924566c55f.png"></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/GetStream/stream-chat-swift/edit/main/stream-chat-swift-docs/docs/ui-cheat-sheet.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setup" class="table-of-contents__link">Setup</a><ul><li><a href="#integrating-with-streamchat" class="table-of-contents__link">Integrating with <code>StreamChat</code></a></li></ul></li><li><a href="#customizing-views" class="table-of-contents__link">Customizing views</a><ul><li><a href="#view-lifecycle-methods" class="table-of-contents__link">View Lifecycle Methods</a></li><li><a href="#changing-main-color" class="table-of-contents__link">Changing Main Color</a></li><li><a href="#changing-appearance" class="table-of-contents__link">Changing Appearance</a></li><li><a href="#changing-layout" class="table-of-contents__link">Changing Layout</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/stream-chat" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://twitter.com/getstream_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/GetStream/stream-chat-swift" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021 Stream.io, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/stream-chat-swift/assets/js/styles.725bd164.js"></script>
<script src="/stream-chat-swift/assets/js/runtime~main.0ada098c.js"></script>
<script src="/stream-chat-swift/assets/js/main.b0a9bf59.js"></script>
<script src="/stream-chat-swift/assets/js/1.fdcd1e01.js"></script>
<script src="/stream-chat-swift/assets/js/2.c4a5c1e3.js"></script>
<script src="/stream-chat-swift/assets/js/3.cf062860.js"></script>
<script src="/stream-chat-swift/assets/js/1be78505.5242f7cc.js"></script>
<script src="/stream-chat-swift/assets/js/56.f7fc442b.js"></script>
<script src="/stream-chat-swift/assets/js/935f2afb.ddf29bbf.js"></script>
<script src="/stream-chat-swift/assets/js/17896441.d1c47389.js"></script>
<script src="/stream-chat-swift/assets/js/9cd848f5.a95d0e6c.js"></script>
</body>
</html>